(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3mbh":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("4K06"),a=n("fXoL"),o=n("rfwq"),r=n("qaDy");let s=(()=>{class e{constructor(e,t){this.patientService=e,this.enrollmentStorageService=t}getRouteOrder(e){switch(e){case i.a.leadInfo:return 1;case i.a.insurance:return 2;case i.a.schedule:return 3;case i.a.clinician:case i.a.appointment:return 4;case i.a.privacyPolicy:return 5;case i.a.billingDetails:return 6;case i.a.thankYou:return 7;default:return 0}}setFarthestPage(e,t,n){this.getRouteOrder(t)<=this.getRouteOrder(n)&&(this.enrollmentStorageService.emit({farthest_page_user_reached:n}),e&&"undefined"!==e&&this.patientService.updateFarthestPage(e,n).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(o.a),a.Wb(r.a))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"5vEd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL");let a=(()=>{class e{constructor(){this.states=[{stateName:"Alabama",stateCode:"AL",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Alaska",stateCode:"AK",ianaTimezone:"America/Juneau",utcTimeZone:"-09:00"},{stateName:"Arizona",stateCode:"AZ",ianaTimezone:"America/Phoenix",utcTimeZone:"-07:00"},{stateName:"Arkansas",stateCode:"AR",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"California",stateCode:"CA",ianaTimezone:"America/Los_Angeles",utcTimeZone:"-08:00"},{stateName:"Colorado",stateCode:"CO",ianaTimezone:"America/Denver",utcTimeZone:"-07:00"},{stateName:"Connecticut",stateCode:"CT",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Delaware",stateCode:"DE",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Florida",stateCode:"FL",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Georgia",stateCode:"GA",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Hawaii",stateCode:"HI",ianaTimezone:"Pacific/Honolulu",utcTimeZone:"-10:00"},{stateName:"Idaho",stateCode:"ID",ianaTimezone:"America/Boise",utcTimeZone:"-07:00"},{stateName:"Illinois",stateCode:"IL",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Indiana",stateCode:"IN",ianaTimezone:"America/Indiana/Indianapolis",utcTimeZone:"-05:00"},{stateName:"Iowa",stateCode:"IA",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Kansas",stateCode:"KS",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Kentucky",stateCode:"KY",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Louisiana",stateCode:"LA",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Maine",stateCode:"ME",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Maryland",stateCode:"MD",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Massachusetts",stateCode:"MA",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Michigan",stateCode:"MI",ianaTimezone:"America/Detroit",utcTimeZone:"-05:00"},{stateName:"Minnesota",stateCode:"MN",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Mississippi",stateCode:"MS",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Missouri",stateCode:"MO",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Montana",stateCode:"MT",ianaTimezone:"America/Denver",utcTimeZone:"-07:00"},{stateName:"Nebraska",stateCode:"NE",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Nevada",stateCode:"NV",ianaTimezone:"America/Los_Angeles",utcTimeZone:"-08:00"},{stateName:"New Hampshire",stateCode:"NH",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"New Jersey",stateCode:"NJ",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"New Mexico",stateCode:"NM",ianaTimezone:"America/Denver",utcTimeZone:"-07:00"},{stateName:"New York",stateCode:"NY",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"North Carolina",stateCode:"NC",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"North Dakota",stateCode:"ND",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Ohio",stateCode:"OH",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Oklahoma",stateCode:"OK",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Oregon",stateCode:"OR",ianaTimezone:"America/Los_Angeles",utcTimeZone:"-08:00"},{stateName:"Pennsylvania",stateCode:"PA",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Rhode Island",stateCode:"RI",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"South Carolina",stateCode:"SC",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"South Dakota",stateCode:"SD",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Tennessee",stateCode:"TN",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Texas",stateCode:"TX",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Utah",stateCode:"UT",ianaTimezone:"America/Denver",utcTimeZone:"-07:00"},{stateName:"Vermont",stateCode:"VT",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Virginia",stateCode:"VA",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Washington",stateCode:"WA",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"West Virginia",stateCode:"WV",ianaTimezone:"America/New_York",utcTimeZone:"-05:00"},{stateName:"Wisconsin",stateCode:"WI",ianaTimezone:"America/Chicago",utcTimeZone:"-06:00"},{stateName:"Wyoming",stateCode:"WY",ianaTimezone:"America/Denver",utcTimeZone:"-07:00"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"9Sxu":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),a=n("X3+5"),o=n("fXoL"),r=n("uc+x"),s=n("qaDy"),c=n("zGDu"),l=n("Oydv"),m=n("LGU/"),d=n("tyNb");let u=(()=>{class e{constructor(e,t,n,i,a,o){this.clinicianService=e,this.enrollmentStorageService=t,this.mixpanelService=n,this.facebookPixelService=i,this.conditionProviderService=a,this.router=o,this.provider=t.instance().getValue()}canActivate(e,t){var n,o;return Object(i.a)(this,void 0,void 0,(function*(){const e=this.clinicianService.getAll().toPromise(),t=yield e.then();let i;if(this.provider.primaryCondition?(i=a.a.byPrimaryCondition(t,this.provider.primaryCondition),i&&i.length||(i=a.a.bySecondaryCondition(t,this.provider.primaryCondition))):i=t,!this.provider.insurance.company_id&&!(null===(n=this.provider.utmData)||void 0===n?void 0:n.BDR)&&!this.provider.insurance.is_verified)return this.router.navigate([this.provider.flowType+"/clinician/no-insurance-provider"]);const r=a.a.byLicenseState(i,this.provider.stateCode);return r.length<1?(this.sendMixpanelEvent("State"),this.sendFacebookNoStateEvent(),this.router.navigate([this.provider.flowType+"/clinician/no-state"])):!(!(null===(o=this.provider.utmData)||void 0===o?void 0:o.BDR)&&!this.provider.insurance.is_verified&&a.a.byInsuranceCompany(r,this.provider.insurance.company_id).length<1)||(this.sendMixpanelEvent("Insurance"),this.sendFacebookNoInsuranceEvent(),this.router.navigate([this.provider.flowType+"/clinician/no-insurance-provider"]))}))}sendMixpanelEvent(e){this.mixpanelService.simpleEvent("No Available Clinicians",{reason:e,state:this.provider.stateCode,insuranceCompany:this.provider.insurance.company_name})}sendFacebookNoStateEvent(){this.facebookPixelService.customEvent("NoCliniciansInState",{state:this.provider.stateCode})}sendFacebookNoInsuranceEvent(){this.facebookPixelService.customEvent("NoCliniciansWithTheInsurance",{state:this.provider.stateCode,insurance:this.provider.insurance.company_name})}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(r.a),o.Wb(s.a),o.Wb(c.a),o.Wb(l.a),o.Wb(m.a),o.Wb(d.d))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},G6s7:function(e,t,n){"use strict";n.r(t),n.d(t,"TreatmentsModule",(function(){return l}));var i=n("tyNb"),a=n("IBze"),o=n("fXoL");const r=[{path:"",component:a.a}];let s=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(r)],i.e]}),e})();var c=n("gerp");let l=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[c.a,s]]}),e})()},LWpp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),a=n("jhN1");let o=(()=>{class e{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(a.b))},e.\u0275pipe=i.Lb({name:"safe",type:e,pure:!0}),e})()},Q3UX:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("yGlM"),a=n("AytR"),o=n("SxV6"),r=n("fXoL"),s=n("tk/3"),c=n("qaDy");let l=(()=>{class e extends i.a{constructor(e,t){super(e),this.http=e,this.enrollmentStorageService=t,this.provider=t.instance().getValue()}sendLogs(e,t=!0,n){return n?(n=JSON.parse(JSON.stringify(n)))&&(n.mixpanelId=this.provider.mixpanelId):n={mixpanelId:this.provider.mixpanelId},this.http.post(a.a.apiUrl+"/logs",{message:e,send_to_slack:t,data:n},this.httpOptions).pipe(Object(o.a)())}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(s.a),r.Wb(c.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VJZ7:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mYVd"),a=n("JlpP"),o=n("Kj3r"),r=n("4K06"),s=n("HrPG"),c=n("fXoL"),l=n("qaDy"),m=n("tyNb"),d=n("Wz7D"),u=n("QB5v"),p=n("JeUk"),h=n("FOHk"),g=n("zGDu"),_=n("4SMI");let f=(()=>{class e{constructor(e,t,n,o,r,s,c,l){this.enrollmentStorageService=e,this.router=t,this.informationPanelService=n,this.navigationService=o,this.enrollmentTitleServiceService=r,this.routeOrderService=s,this.mixpanelService=c,this.deviceInfoService=l,this.scheduleTypeEnum=a.a,this.subscriptions=[],this.profile=e.instance().getValue(),this.pageType=i.b.personal_info,this.form=new a.b(this.profile)}ngOnInit(){this.initInfoPanel(),this.initNavigationPanel(),this.initTitle()}ngOnDestroy(){let e=this.subscriptions.length;for(;e--;)this.subscriptions[e]&&this.subscriptions[e].unsubscribe()}next(){if(this.form.valid)return this.enrollmentStorageService.emit(this.form.value),this.mixpanelService.prepareSuperProperties(),this.router.navigate([this.profile.flowType+"/"+this.routeOrderService.next(r.a.schedule)])}initInfoPanel(){this.informationPanelService.state.next({title:"VR therapy begins with<br>an online evaluation",description:"",helpedDescription:"How would you prefer to schedule your online evaluation appointment?",pageType:i.b.personal_info,image:"assets/images/fitness.png"})}initNavigationPanel(){this.navigationService.state.next({next:!0,back:!0,valid:this.form.valid}),this.subscriptions.push(this.form.statusChanges.pipe(Object(o.a)(300)).subscribe(()=>{this.navigationService.state.next({next:!0,back:!0,valid:this.form.valid})})),this.subscriptions.push(this.navigationService.clickNext.subscribe(()=>this.next())),this.subscriptions.push(this.navigationService.clickBack.subscribe(()=>this.back()))}initTitle(){this.enrollmentTitleServiceService.state.next({title:"Our therapy starts with an online evaluation",description:"How would you prefer to schedule your online evaluation appointment?",step:s.b.SCHEDULE_TYPE})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(l.a),c.Mb(m.d),c.Mb(d.a),c.Mb(u.a),c.Mb(p.a),c.Mb(h.a),c.Mb(g.a),c.Mb(_.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-schedule-type"]],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;justify-content:center}.schedule__form[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex:0 1 100%;flex-direction:row}@media (max-width:1024px){.schedule__form[_ngcontent-%COMP%]{align-items:center}}.schedule__form[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex:1 1 100%;flex-direction:row;justify-content:center;margin-top:10.1rem}@media (max-width:1024px){.schedule__form[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{margin:0}}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;cursor:pointer;-webkit-user-select:none;user-select:none;color:#222}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:50%}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:hover{color:#00b6ff}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border-color:#ddd;box-shadow:0 4px 10px rgba(0,0,0,.25)}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{filter:url(#filter0_d)}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:first-child{margin-right:4rem}@media (max-width:1024px){.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:first-child{margin-right:3rem}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%]{width:8rem;height:10.3rem}}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:last-child{margin-left:4rem}@media (max-width:1024px){.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:last-child{margin-left:3rem}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]{box-sizing:border-box;width:8rem;height:8rem}}.schedule__form[_ngcontent-%COMP%]   .selection__label__text[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:23px;margin-top:3rem;text-align:center;color:inherit}@media (max-width:1024px){.schedule__form[_ngcontent-%COMP%]   .selection__label__text[_ngcontent-%COMP%]{margin-top:2rem}}.schedule__form[_ngcontent-%COMP%]   .selection__label__text.selected[_ngcontent-%COMP%]{color:#00b6ff}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{filter:url(#filter0_d)}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .selected-border[_ngcontent-%COMP%]{stroke:#00b6ff}.schedule__form[_ngcontent-%COMP%]   .selection__label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{border-color:#00b6ff;box-shadow:0 4px 10px rgba(0,0,0,.25)}"]}),e})()},Vk8k:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["app-preloader"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Nb(1,"div"),i.Nb(2,"div"),i.Nb(3,"div"),i.Nb(4,"div"),i.Rb())},styles:[".lds-ring[_ngcontent-%COMP%]{position:relative;display:inline-block;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;display:block;box-sizing:border-box;width:64px;height:64px;margin:8px;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:4px solid transparent;border-top-color:#00baff;border-radius:50%}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e})()},"X3+5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static byLicenseState(e,t){return e.filter(e=>e.license_state.some(e=>e.toLowerCase()===t.toLowerCase()))}static byInsuranceCompany(e,t){return e.filter(e=>e.insurance_company.some(e=>e.id.toLowerCase()===t.toLowerCase()))}static byPrimaryCondition(e,t){return t?e.filter(e=>{var n;const i=null===(n=e.primary_conditions)||void 0===n?void 0:n.split(";");return null==i?void 0:i.includes(t)}):[]}static bySecondaryCondition(e,t){return t?e.filter(e=>{var n;const i=null===(n=e.secondary_conditions)||void 0===n?void 0:n.split(";");return null==i?void 0:i.includes(t)}):[]}static byLicenseStateForSchedule(e,t){for(const i of Object.keys(e))try{e[i].license_state.some(e=>e.toLowerCase()===t.toLowerCase())||delete e[i]}catch(n){console.error(n)}return e}static byInsuranceCompanyForSchedule(e,t){for(const n of Object.keys(e))e[n].insurance_company.some(e=>e.id.toLowerCase()===t.toLowerCase())||delete e[n];return e}static byConditionForSchedule(e,t){var n,i;if(t){for(const a of Object.keys(e)){const o=null===(n=e[a].primary_conditions)||void 0===n?void 0:n.split(";"),r=null===(i=e[a].secondary_conditions)||void 0===i?void 0:i.split(";");(null==o?void 0:o.includes(t))||(null==r?void 0:r.includes(t))||delete e[a]}return e}return{}}}},Y6wi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("eIep"),a=n("SpAZ");function o(){return Object(i.a)(a.a)}},aDYA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("H8uU");class a extends i.a{constructor(e){super(),this.provider=e}adapt(){return this.provider.insurance.company_id?{insurance_name:this.provider.insurance.company_name,insurance_company:this.provider.insurance.company_id,insurance_number:this.provider.insurance.number,payment:this.provider.insurance.payment,bdr:!!this.provider.utmData.BDR,out_of_pocket:!!this.provider.insurance.out_of_pocket,athena_package_id:this.provider.insurance.athena_package_id}:this.provider.insurance.out_of_pocket?{oop_plan:this.provider.insurance.oop_plan,payment:this.provider.insurance.payment,bdr:this.provider.utmData.BDR,athena_package_id:"1352",out_of_pocket:!0}:{insurance_company:this.provider.insurance.custom_company,payment:this.provider.insurance.payment,bdr:this.provider.utmData.BDR,custom_provider:!0}}}},b9hM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("AytR"),a=n("QePz"),o=n("fXoL");let r=(()=>{class e{constructor(){this.loaded=!1,this.signedIn=!1}updateSigninStatus(e){e?(this.signedIn=!0,this.createEvent()):(this.signedIn=!1,gapi.auth2.getAuthInstance().signIn())}init(){this.loaded||gapi.load("client:auth2",()=>{this.initClient().then(()=>{this.loaded=!0})})}initClient(){return this.loaded=!0,gapi.client.init({apiKey:i.a.googleApiKey,clientId:i.a.googleClientId,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar.events"})}handleSignoutClick(){gapi.auth2.getAuthInstance().signOut()}createEvent(){this.loaded&&this.signedIn?this.create():(gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus.bind(this)),this.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get()))}create(){var e;const t=new a.a;if(!t.appointment)throw Error;const n=new Date(t.appointment);n.setMinutes(n.getMinutes()+45),gapi.client.calendar.events.insert({calendarId:"primary",resource:{summary:"XRHealth Appointment",start:{dateTime:null===(e=t.appointment)||void 0===e?void 0:e.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:n.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}}}).then(()=>{})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},k2FW:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("vhYw"),a=n("AytR"),o=n("mYVd"),r=n("HrPG"),s=n("fXoL"),c=n("qaDy"),l=n("b9hM"),m=n("yJBu"),d=n("rfwq"),u=n("Wz7D"),p=n("QB5v"),h=n("JeUk"),g=n("zGDu"),_=n("4SMI");let f=(()=>{class e{constructor(e,t,n,i,r,s,c,l,m){var d;this.enrollmentStorageService=e,this.googleCalendarService=t,this.tealiumService=n,this.patientService=i,this.informationPanelService=r,this.navigationService=s,this.titleService=c,this.mixpanelService=l,this.deviceInfoService=m,this.pageType=o.b.thank_you,this.googleCalendarClicked=!1,this.googleLink=a.a.googleCalendarLink,this.subscriptions=[],this.monthList=["January","February","March","April","May","June","July","August","September","October","November","December"],this.profile=this.enrollmentStorageService.instance().getValue(),this.googleLink.dates=this.googleDatesString(),this.googleLink.details="You are seeing "+(null===(d=this.profile.clinician)||void 0===d?void 0:d.name)}static replaceAll(t,n,i){if(i){if(i.includes(t)){const a=i.replace(t,n);return e.replaceAll(t,n,a)}return i}return""}ngOnInit(){this.initInfoPanel(),this.initNavigationPanel(),this.initTitle();const e=this.enrollmentStorageService.instance().subscribe(e=>{if(e.appointmentId&&!e.finished){this.enrollmentStorageService.emit({finished:!0});const e=this.patientService.attendees(this.profile.appointmentId).subscribe(e=>{const t=document.createElement("a");t.href=e.telehealth_url,t.title=e.telehealth_url,this.googleLink.details+='<br><br><br>Join appointment: <a href="'+e.telehealth_url+'">'+e.telehealth_url+"</a>"});this.subscriptions.push(e)}});this.subscriptions.push(e)}ngAfterViewInit(){this.tealiumService.thankYouPage()}formattedDate(){if(!this.profile.appointment)throw Error;return this.monthList[this.profile.appointment.getMonth()]+" "+this.profile.appointment.getDate().toString()+", "+this.profile.appointment.getFullYear().toString()}formattedTime(){return this.profile.appointment?i.a.time12(this.profile.appointment):""}handleAuthClick(){this.ctaAddToCalendar()}ctaAddToCalendar(){this.mixpanelService.simpleEvent("Add to Calendar",{calendar:"Google"}),ga("send","event","thank-you","click","Added the appointment to calendar"),this.tealiumService.calendarAdded()}ngOnDestroy(){let e=this.subscriptions.length;for(;e--;)this.subscriptions[e]&&this.subscriptions[e].unsubscribe()}googleDatesString(){if(!this.profile.appointment)return"";let t=this.profile.appointment.toISOString();t=e.replaceAll("-","",t),t=e.replaceAll(":","",t),t=e.replaceAll(".000","",t);const n=new Date(this.profile.appointment);n.setMinutes(n.getMinutes()+45);let i=n.toISOString();return i=e.replaceAll("-","",i),i=e.replaceAll(":","",i),i=e.replaceAll(".000","",i),t+"/"+i}initInfoPanel(){this.informationPanelService.state.next({title:"Evaluation<br>Booked!",description:"",helpedDescription:"",pageType:o.b.thank_you,image:"assets/images/success.png"})}initTitle(){this.titleService.state.next({title:" ",description:"",step:r.b.THANK_YOU})}initNavigationPanel(){this.navigationService.state.next({next:!1,back:!1,valid:!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(c.a),s.Mb(l.a),s.Mb(m.a),s.Mb(d.a),s.Mb(u.a),s.Mb(p.a),s.Mb(h.a),s.Mb(g.a),s.Mb(_.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-thank-you"]],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;margin:1.7rem 1.6rem 3rem 5rem}@media (max-width:1024px){[_nghost-%COMP%]{margin:1.7rem 3rem 3rem}}.lead[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;justify-content:space-around;margin-top:-5rem}@media (max-width:1024px){.lead[_ngcontent-%COMP%]{margin-top:0}}.lead__title[_ngcontent-%COMP%]{font-size:16px;line-height:19px;margin-top:1.5rem;text-transform:capitalize}.lead__description[_ngcontent-%COMP%], .lead__title[_ngcontent-%COMP%]{font-family:RobotoLight,sans-serif;font-weight:300;color:#222}.lead__description[_ngcontent-%COMP%]{font-size:1.6rem;line-height:1.9rem;margin-top:1rem;letter-spacing:0}.lead__description__regular[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif}.appointment[_ngcontent-%COMP%]{margin-top:2.9rem}.appointment__date[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif;font-size:2.2rem;font-weight:400;font-style:normal;line-height:2.6rem;text-align:left;letter-spacing:0}.appointment__time[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2.1rem}.appointment__time[_ngcontent-%COMP%], .confirmation-message[_ngcontent-%COMP%]{font-family:RobotoLight,sans-serif;font-weight:300;font-style:normal;text-align:left;letter-spacing:0}.confirmation-message[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2.3rem;display:flex;flex:1 1 100%;flex-direction:column;margin-top:2.9rem}.confirmation-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:3.5rem}.confirmation-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .confirmation-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-top:0}.confirmation-message[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{font-family:RobotoLight,sans-serif;font-weight:300;margin-top:1.9rem}.confirmation-message[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%], .confirmation-message[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{font-size:1.6rem;font-style:normal;line-height:1.9rem;text-align:left;letter-spacing:0}.confirmation-message[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif;font-weight:400;color:#23b9ff;-webkit-text-decoration-line:underline;text-decoration-line:underline}.end[_ngcontent-%COMP%]{font-family:RobotoLight,sans-serif;font-size:1.6rem;font-weight:300;font-style:normal;line-height:1.9rem;margin-top:2.2rem}.calendar[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;margin-top:5rem}.calendar__title[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif;font-size:1.6rem;font-weight:400;font-style:normal;line-height:1.9rem;color:#757575}.calendar__list[_ngcontent-%COMP%]{display:flex;margin-top:1rem}@media (max-width:1024px){.calendar__list[_ngcontent-%COMP%]{flex-direction:column}}.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:RobotoRegular,sans-serif;font-size:1.6rem;font-weight:400;font-style:normal;line-height:1.9rem;display:flex;align-items:center;padding:0 1rem;cursor:pointer;color:#23b9ff;border-right:1px solid #222;background:none;-webkit-text-decoration-line:underline;text-decoration-line:underline}.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}@media (max-width:1024px){.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.75rem 0;padding:0;border:none}}.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{padding-left:0}.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border:none}.calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .calendar__list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1.1rem;text-decoration:none;color:inherit}"]}),e})()},rfwq:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("yGlM"),a=n("tk/3"),o=n("AytR"),r=n("vhYw"),s=n("5vEd"),c=n("f0Wu"),l=n("fXoL");let m=(()=>{class e extends i.a{exist(e,t=""){let n=new a.e({fromObject:{email:e}});return t&&(n=n.set("id",t)),this.http.get(o.a.apiUrl+"/patients/exist",Object.assign(Object.assign({},this.httpOptions),{params:n}))}existInAthena(e){const t=e.birthDate.split("-"),n=`${t[1]}/${t[2]}/${t[0]}`;return this.http.post(o.a.apiUrl+"/patients/exist/athena",Object.assign(Object.assign({},this.httpOptions),{firstname:e.firstName,lastname:e.lastName,dob:n}))}create(e){return this.http.post(o.a.apiUrl+"/patients",e.adapt(),this.httpOptions)}update(e,t){return this.http.patch(o.a.apiUrl+"/patients/"+e,t.adapt(),this.httpOptions)}updateClinicianId(e,t){return this.http.patch(o.a.apiUrl+"/patients/"+e,{clinician_id:t},this.httpOptions)}createAppointment(e){var t,n;let i=e.appointment;e.appointment||(i=new Date);const a=(new s.a).states.filter(t=>t.stateName===e.state)[0],l=c().tz(a.ianaTimezone).format("Z"),m=(null===(t=e.appointment)||void 0===t?void 0:t.toString().split("GMT")[0])+"GMT"+l.split(":").join(""),d={athena_package_id:e.insurance.athena_package_id,appointment_id:e.appointmentId,appointment:e.utmData.BDR?new Date(m).toISOString():null===(n=e.appointment)||void 0===n?void 0:n.toISOString(),timezone_offset:e.utmData.BDR?"UTC"+l:r.a.timezoneString(i),timezone_name:e.utmData.BDR?a.ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,out_of_pocket:e.insurance.out_of_pocket};return e.utmData.BDR&&Object.assign(d,{bdr:e.utmData.BDR}),this.http.post(o.a.apiUrl+"/patients/"+e.id+"/appointment",d,this.httpOptions)}attendees(e){return this.http.get(o.a.apiUrl+"/patients/"+e+"/attendees")}getInfoBySalesForceId(e,t){return this.http.get(o.a.apiUrl+"/patients/"+e,{params:{api_token:t}})}updateFarthestPage(e,t){return this.http.post(o.a.apiUrl+"/patients/"+e+"/current-registration-location",{page_name:t},this.httpOptions)}}return e.\u0275fac=function(t){return d(t||e)},e.\u0275prov=l.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d=l.Ub(m)},tYcT:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("3Pt+");class a extends i.h{constructor(e){super({country:new i.e(null==e?void 0:e.country),state:new i.e(null==e?void 0:e.state),state_code:new i.e(null==e?void 0:e.state_code),city:new i.e(null==e?void 0:e.city),street:new i.e(null==e?void 0:e.street),street_number:new i.e(null==e?void 0:e.street_number),postal_code:new i.e(null==e?void 0:e.postal_code)})}get country(){return this.get("country")}get state(){return this.get("state")}get stateCode(){return this.get("state_code")}get city(){return this.get("city")}get street(){return this.get("street")}get streetNumber(){return this.get("street_number")}get postalCode(){return this.get("postal_code")}}class o{static required(){return e=>e.country.value?e.city.value?e.street.value?e.streetNumber.value?null:{custom:{message:"Address must have street number"}}:{custom:{message:"Address must have street name"}}:{custom:{message:"Address must have city name"}}:{custom:{message:"Address must have a country name"}}}}var r=n("Hr+/");class s extends i.h{constructor(e){super({first_name:new i.e(e.firstName,[i.u.required,r.a.letters("Field must have a valid first name")]),last_name:new i.e(e.lastName,[i.u.required,r.a.letters("Field must have a valid last name")]),email:new i.e(e.email,[i.u.required,r.a.email()]),mobile:new i.e(e.mobile,[i.u.required,r.a.number("Field must have a valid number"),i.u.minLength(9)]),birth_date:new i.e(e.birthDate,[i.u.required,r.a.minDate(new Date(1900,0,1),"Please enter a valid date"),r.a.maxDate(new Date,"Please enter a valid date")]),address:new a(e.address),promo_code:new i.e(e.promoCode),primary_condition:new i.e(e.primaryCondition),privacy_policy:new i.e(e.privacyPolicy,i.u.requiredTrue)}),this.address.setValidators([o.required()])}get firstName(){return this.get("first_name")}get lastName(){return this.get("last_name")}get email(){return this.get("email")}get mobile(){return this.get("mobile")}get birthDate(){return this.get("birth_date")}get address(){return this.get("address")}get promoCode(){return this.get("promo_code")}get primaryCondition(){return this.get("primary_condition")}get privacyPolicy(){return this.get("privacy_policy")}}}}]);